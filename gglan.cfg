// ===== GGLan — CS2 LAN soft preset (final) =====

// -----------------------------------------------------------------------------
// 0) Base "Premier" (rulebook Valve) + cadence LAN
// -----------------------------------------------------------------------------
exec gamemode_competitive                 // Base compétitive (MR12, économie, etc.)
mp_freezetime 15                          // 15 s de freeze (choix LAN ; Premier Valve = 20 s)
sv_vote_command_delay 0                   // Pas de délai avant l’exécution d’un vote
mp_promoted_item_enabled 0                // Désactive l’affichage d’items promotionnels

// -----------------------------------------------------------------------------
// 1) Overrides LAN utiles (offline-friendly & confort tournoi)
// -----------------------------------------------------------------------------

// --- Auth / tolérance offline ---
sv_steamauth_enforce 0                    // Permet de jouer sans Internet (LAN/offline)
mp_autokick 0                             // Désactive le kick automatique des AFK
sv_matchend_drops_enabled 0               // Pas de drops de fin de match (inutile en LAN)

// --- GOTV (live, faible drift) ---
tv_enable 1                               // Active le serveur GOTV
tv_dispatchmode 0                         // Mode d’envoi standard
tv_allow_static_shots 1                   // Autorise les caméras statiques automatiques
tv_autorecord 1                           // Enregistrements .dem automatiques
tv_delaymapchange 1                       // GOTV suit les changements de map
tv_delay 0                                // 0 = live LAN (mettre 105 s si diffusion publique)
sv_deltaticks_enforce 0                   // Réduit les kicks spec liés au drift de ticks
tv_name "GGLan GOTV"                      // Nom du flux GOTV

// --- Pauses / warmup (OT géré par eBot : aucune cvar d’OT ici) ---
sv_matchpause_auto_5v5 1                  // Auto-pause si une équipe < 5 joueurs
mp_warmup_pausetimer 1                    // Le timer de warmup se met en pause si personne
mp_warmuptime 60                          // 60 s de warmup
mp_halftime_pausematch 0                  // Pas de pause auto à la mi-temps (eBot gère le flow)
mp_competitive_endofmatch_extra_time 155  // Durée du récap/fin de match (~2 min 35)
mp_warmuptime_all_players_connected 0     // Ne stoppe pas auto le warmup quand 10/10
mp_round_restart_delay 5                  // 5 s entre les rounds

// --- Timeouts tactiques (règlement standard) ---
mp_team_timeout_time 30                   // 30 s par timeout tactique
mp_team_timeout_max 4                     // 4 timeouts par équipe et par map
mp_technical_timeout_per_team 1           // 1 pause technique par équipe (si plugin/eBot)
mp_technical_timeout_duration_s 120       // 120 s max pour une pause technique

// --- Timeouts en Overtime (au cas où eBot ne gère pas les crédits) ---
mp_team_timeout_ot_add_once 1             // +1 timeout à l’entrée en OT
mp_team_timeout_ot_add_each 1             // +1 timeout à chaque nouvel OT
mp_team_timeout_ot_max 1                  // Au plus 1 timeout ajouté par OT

// --- Économie / dégâts ---
cash_team_bonus_shorthanded 0             // Pas de bonus d’argent en sous-nombre
sv_damage_print_enable 2                  // Affiche les dégâts en fin de round uniquement

// --- Spectateurs / comms / votes ---
mp_spectators_max 10                      // Limite des spectateurs
sv_spec_hear 4                            // Les spectateurs entendent tout (incl. teams)
tv_relayradio 0                           // Pas de messages radio dans le flux GOTV

sv_allow_votes 1                          // Active le système de votes
sv_vote_issue_loadbackup_spec_authoritative 1 // Restauration backup via spec/admin uniquement
sv_vote_creation_timer 25                 // Délai min entre deux créations de vote
sv_vote_failure_timer 25                  // Cooldown après un vote échoué

// --- Qualité de vie / logs ---
sv_reliableavatardata 0                   // Ne force pas la récupération fiable des avatars
sv_invites_only_mainmenu 0                // Les invitations ne sont pas limitées au menu principal
sv_gameinstructor_enable 0                // Désactive l’instructeur en jeu
mp_logdetail 1                            // Logs peu verbeux (monter si besoin de debug)

// -----------------------------------------------------------------------------
// 2) Sécurité backup & défauts offline de chargeout
// -----------------------------------------------------------------------------
mp_backup_round_auto 1                    // Sauvegarde automatique des rounds (autobackups)
mp_ct_default_secondary "weapon_usp_silencer" // USP-S par défaut côté CT (utile offline)
